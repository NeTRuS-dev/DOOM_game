{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///js/components/main-game.vue","webpack:///js/components/main-menu.vue","webpack:///js/components/main-score.vue","webpack:///js/components/modal-window.vue","webpack:///js/components/score-elem.vue","webpack:///./js/components/main-game.vue?5bc9","webpack:///./js/components/main-menu.vue?3dd1","webpack:///./js/components/main-score.vue?d4d7","webpack:///./js/components/modal-window.vue?4124","webpack:///./js/components/main-game.vue?b37b","webpack:///./js/components/main-menu.vue?5ba0","webpack:///./js/components/main-score.vue?4675","webpack:///./js/components/modal-window.vue?c573","webpack:///./js/components/score-elem.vue?bdeb","webpack:///./js/BulletFactory.ts","webpack:///./js/EnemiesFactory.ts","webpack:///./js/abstract_classes/moving_npc.ts","webpack:///./js/abstract_classes/npc.ts","webpack:///./js/abstract_classes/npc_with_bullets.ts","webpack:///./js/app.js","webpack:///./js/bullet.ts","webpack:///./js/components/main-game.vue?fe57","webpack:///./js/components/main-game.vue?e1f3","webpack:///./js/components/main-game.vue?e013","webpack:///./js/components/main-game.vue?59d4","webpack:///./js/components/main-menu.vue?0e58","webpack:///./js/components/main-menu.vue?fa30","webpack:///./js/components/main-menu.vue?5903","webpack:///./js/components/main-menu.vue?64d3","webpack:///./js/components/main-score.vue?86bb","webpack:///./js/components/main-score.vue?4b33","webpack:///./js/components/main-score.vue?4d84","webpack:///./js/components/main-score.vue?8e7d","webpack:///./js/components/modal-window.vue?d80f","webpack:///./js/components/modal-window.vue?a0f9","webpack:///./js/components/modal-window.vue?6c4c","webpack:///./js/components/modal-window.vue?3ecf","webpack:///./js/components/score-elem.vue","webpack:///./js/components/score-elem.vue?80b5","webpack:///./js/components/score-elem.vue?b1c4","webpack:///./js/doomguy.ts","webpack:///./js/enemies.ts","webpack:///./js/helpers.ts","webpack:///./resourses/doomguy/guy-back.png","webpack:///./resourses/doomguy/guy-forward.png","webpack:///./resourses/doomguy/guy-left.png","webpack:///./resourses/doomguy/guy-right.png","webpack:///./resourses/enemies/former_human/human-back.png","webpack:///./resourses/enemies/former_human/human-forward.png","webpack:///./resourses/enemies/former_human/human-left.png","webpack:///./resourses/enemies/former_human/human-right.png","webpack:///./resourses/enemies/imp/imp-back.png","webpack:///./resourses/enemies/imp/imp-forward.png","webpack:///./resourses/enemies/imp/imp-left.png","webpack:///./resourses/enemies/imp/imp-right.png","webpack:///./resourses/enemies/lost_soul/soul-back.png","webpack:///./resourses/enemies/lost_soul/soul-forward.png","webpack:///./resourses/enemies/lost_soul/soul-left.png","webpack:///./resourses/enemies/lost_soul/soul-right.png","webpack:///./resourses/game_field_bg.jpg","webpack:///./resourses/heart.svg","webpack:///./resourses/sound.mp3","webpack:///./scss/style.scss"],"names":["Vue","el","template","data","current_stage","player_name","undefined","player_id","methods","resetProgress","watch","new_val","components","MainMenu","MainGame","MainScore"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AAEA;AACA,mBADA;AAEA;AACA;AADA,GAFA;AAKA,MALA,kBAKA;AACA;AACA,wBADA;AAEA;AACA,2BADA;AAEA;AAFA,OAFA;AAMA;AANA;AAQA,GAdA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,GAfA;AAwBA,SAxBA,qBAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,GAzCA;AA0CA,SA1CA,qBA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAvDA;AAwDA,eAxDA,2BAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAjEA;AAkEA;AACA,gBADA,0BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAVA;AAWA,kBAXA,0BAWA,CAXA,EAWA;AACA;AACA;AACA;AACA;AACA;AACA,KAjBA;AAkBA,gBAlBA,wBAkBA,CAlBA,EAkBA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KAzBA;AA0BA,YA1BA,sBA0BA;AACA;AACA,KA5BA;AA6BA,aA7BA,uBA6BA;AACA;AACA;AACA,KAhCA;AAiCA,qBAjCA,6BAiCA,CAjCA,EAiCA;AACA;AACA,yEADA;AAEA;AAFA;AAIA,KAtCA;AAuCA,gBAvCA,0BAuCA;AACA;AACA,KAzCA;AA0CA,uBA1CA,iCA0CA;AACA;AACA;;AACA;AACA;AACA;;AACA,mCALA,CAMA;;AACA;AACA;AACA,KApDA;AAqDA,wBArDA,kCAqDA;AACA;AACA;AACA,+FAFA,CAGA;;AAHA,mDAIA,uCAJA;AAAA;;AAAA;AAIA;AAAA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;;AAWA;AACA;AACA;AACA,KApEA;AAqEA,aArEA,uBAqEA;AACA;AACA;AACA;AACA;AACA,KA1EA;AA2EA,cA3EA,wBA2EA;AAAA;;AACA,qCACA;AACA,sBADA;AAEA;AACA;AADA,SAFA;AAKA;AACA,yCADA;AAEA,mDAFA;AAGA;AAHA;AALA,OADA,EAYA,IAZA,CAYA;AAAA;AAAA,OAZA,EAaA,IAbA,CAaA;AACA;;AACA;AACA,OAhBA;AAiBA,KA7FA;AA8FA,QA9FA,kBA8FA;AACA;AACA,yDADA,CAEA;;AACA;AAEA;AACA;AACA,0DAPA,CASA;;AATA,oDAUA,uCAVA;AAAA;;AAAA;AAUA;AAAA;AACA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;;AAeA,0DAfA,CAgBA;;AACA,yCAjBA,CAkBA;;AACA;AACA;AACA,wNArBA,CAsBA;;AACA;AACA;AACA;;AACA;AACA;AA1HA;AAlEA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA;AAEA;AACA,mBADA;AAEA,MAFA,kBAEA;AACA;AACA,qBADA;AAEA;AAFA;AAIA,GAPA;AAQA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA,eAJA,yBAIA;AACA;AACA;AACA;AAPA,GARA;AAkBA;AACA;AADA;AAlBA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIA;AAEA;AACA,oBADA;AAEA;AACA;AADA,GAFA;AAKA,MALA,kBAKA;AACA;AACA;AADA;AAGA,GATA;AAUA;AACA,aADA,qBACA,IADA,EACA;AACA;AACA;AAHA,GAVA;AAeA,SAfA,qBAeA;AAAA;;AACA;AACA,oBADA;AAEA;AACA;AADA,OAFA;AAKA;AAAA;AAAA;AALA,OAQA,IARA,CAQA;AAAA;AAAA,KARA,EASA,IATA,CASA;AACA;AACA,KAXA,WAYA,aACA,CAbA;AAcA,GA9BA;AA+BA;AAAA;AAAA;AA/BA,G;;;;;;;;;;;;;;;;;;;;;;;;ACbA;AACA,sBADA;AAEA,MAFA,kBAEA;AACA;AACA;AAJA,G;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA,oBADA;AAEA;AACA,gBADA;AAEA,iBAFA;AAGA;AAHA;AAFA,G;;;;;;;;;;;ACVA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,4BAA4B;AACjC;AACA,iBAAiB,4BAA4B;AAC7C,mBAAmB,mCAAmC;AACtD,uBAAuB,SAAS,cAAc,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,2BAA2B;AAC/C,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,oCAAoC;AACxD,iBAAiB;AACjB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA,OAAO,6BAA6B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,8BAA8B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mCAAmC;AACzD,gBAAgB,kCAAkC;AAClD;AACA;AACA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,oCAAoC,gCAAgC,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"js/app.2c55daaa6721cb9b383c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"vendors~app\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\r\n    <div>\r\n        <canvas ref=\"gamecanvas\"\r\n                @mousemove=\"canvas_mouse_move\"\r\n                @click=\"canvas_click\">\r\n        </canvas>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"js\">\r\n    import game_sound from '@/resourses/sound.mp3';\r\n    import game_field_bg from '@/resourses/game_field_bg.jpg';\r\n    import {DoomGuy} from \"@/js/doomguy.ts\";\r\n    import {BulletFactory} from \"@/js/BulletFactory.ts\";\r\n    import {EnemiesFactory} from \"@/js/EnemiesFactory.ts\";\r\n\r\n    export default {\r\n        name: \"main-game\",\r\n        props: {\r\n            player_name: String,\r\n        },\r\n        data() {\r\n            return {\r\n                doomGuy: undefined,\r\n                player_mouse_coords: {\r\n                    x: this.max_x * 0.5,\r\n                    y: this.max_y * 0.7\r\n                },\r\n                game_field_bg: new Image(),\r\n            }\r\n        },\r\n        watch: {\r\n            \"doomGuy.killed\": function (val) {\r\n                if (val === true) {\r\n                    //end\r\n                    this.sound.pause();\r\n                    this.sendScores();\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.canv = undefined;\r\n            this.ctx = undefined;\r\n            this.max_x = 0;\r\n            this.max_y = 0;\r\n            this.in_focus = true;\r\n            this.sound = new Audio();\r\n            this.timer = new Date(0);\r\n            this.timer_interval = undefined;\r\n            this.moving_interval = undefined;\r\n            this.pressed_keys = [];\r\n            this.enemies_factory = new EnemiesFactory(3);\r\n            this.enemies_bullet_factory = new BulletFactory();\r\n\r\n            this.timer.setHours(0);\r\n            this.timer.setMinutes(0);\r\n            this.timer.setSeconds(0);\r\n        },\r\n        mounted() {\r\n            this.sound.src = game_sound;\r\n            this.setup_canvas();\r\n            this.sound.volume = 0.0;\r\n            this.sound.loop = true;\r\n            this.game_field_bg.src = game_field_bg;\r\n            document.addEventListener('keydown', this.keydown_method);\r\n            document.addEventListener('keyup', this.keyup_method);\r\n            window.addEventListener('focus', this.focus_in);\r\n            window.addEventListener('blur', this.focus_out);\r\n            window.addEventListener('resize', this.setup_canvas);\r\n            this.init_game();\r\n            this.play();\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.moving_interval);\r\n            clearInterval(this.timer_interval);\r\n            document.removeEventListener('keydown', this.keydown_method);\r\n            document.removeEventListener('keyup', this.keyup_method);\r\n            window.removeEventListener('focus', this.focus_in);\r\n            window.removeEventListener('blur', this.focus_out);\r\n            window.removeEventListener('resize', this.setup_canvas);\r\n\r\n        },\r\n        methods: {\r\n            setup_canvas() {\r\n                let app = document.body;\r\n                this.canv = this.$refs.gamecanvas;\r\n                this.ctx = this.canv.getContext('2d');\r\n                let bodyCoords = app.getBoundingClientRect();\r\n                this.canv.height = bodyCoords.height * 0.84;\r\n                this.canv.width = bodyCoords.width * 0.8;\r\n                this.max_x = this.canv.width;\r\n                this.max_y = this.canv.height;\r\n            },\r\n            keydown_method(e) {\r\n                if (this.in_focus) {\r\n                    if (this.pressed_keys.indexOf(e.code) === -1) {\r\n                        this.pressed_keys.push(e.code);\r\n                    }\r\n                }\r\n            },\r\n            keyup_method(e) {\r\n                if (this.in_focus) {\r\n                    let index = this.pressed_keys.indexOf(e.code);\r\n                    if (index !== -1) {\r\n                        this.pressed_keys.splice(index, 1);\r\n                    }\r\n                }\r\n            },\r\n            focus_in() {\r\n                this.in_focus = true;\r\n            },\r\n            focus_out() {\r\n                this.in_focus = false;\r\n                this.pressed_keys.splice(0);\r\n            },\r\n            canvas_mouse_move(e) {\r\n                this.player_mouse_coords = {\r\n                    x: Math.round(e.clientX - this.canv.getBoundingClientRect().left),\r\n                    y: Math.round((e.clientY - this.canv.getBoundingClientRect().top))\r\n                }\r\n            },\r\n            canvas_click() {\r\n                this.doomGuy.try_to_shoot(this.player_mouse_coords);\r\n            },\r\n            timer_interval_func() {\r\n                if (this.in_focus) {\r\n                    let tmp = this.timer.getSeconds() + 1;\r\n                    if (tmp >= 60) {\r\n                        this.enemies_factory.maxEnemyCount++;\r\n                    }\r\n                    this.timer.setSeconds(tmp);\r\n                    //place enemy\r\n                    this.enemies_factory.generateNewEnemy(this.max_x, this.max_y, this.doomGuy);\r\n                }\r\n            },\r\n            moving_interval_func() {\r\n                if (this.in_focus) {\r\n                    this.doomGuy.makeMoves(this.pressed_keys);\r\n                    this.doomGuy.bullet_factory.make_bullets_step(this.enemies_factory.CreatedEnemiesList);\r\n                    //enemies\r\n                    for (let enemy of this.enemies_factory.CreatedEnemiesList) {\r\n                        if (Object.getPrototypeOf(Object.getPrototypeOf(enemy)).constructor.name === 'NPC_with_bullets') {\r\n                            enemy.try_to_shoot(this.enemies_bullet_factory, this.doomGuy);\r\n                        } else {\r\n                            enemy.moveTo(this.max_x, this.max_y, this.doomGuy);\r\n                        }\r\n                    }\r\n                    this.enemies_bullet_factory.make_bullets_step([this.doomGuy]);\r\n                    this.enemies_factory.removeDeadEnemies();\r\n                }\r\n            },\r\n            init_game() {\r\n                this.sound.play();\r\n                this.doomGuy = new DoomGuy(this.max_x / 2, this.max_y / 2, this.max_x, this.max_y);\r\n                this.timer_interval = setInterval(this.timer_interval_func, 1000);\r\n                this.moving_interval = setInterval(this.moving_interval_func, 1000 / 60);\r\n            },\r\n            sendScores() {\r\n                fetch('/server_add_score.php',\r\n                    {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify({\r\n                            'player_name': this.player_name,\r\n                            'demons_killed': this.doomGuy.target_hits,\r\n                            'time_alive': this.timer.toTimeString().slice(0, 8)\r\n                        })\r\n                    })\r\n                    .then(response => response.json())\r\n                    .then(player_id => {\r\n                        this.$emit('player-game-id', Number.parseInt(player_id));\r\n                        this.$emit('set-stage', 2);\r\n                    });\r\n            },\r\n            play() {\r\n                if (this.in_focus) {\r\n                    this.ctx.clearRect(0, 0, this.max_x, this.max_y);\r\n                    //bg\r\n                    this.ctx.drawImage(this.game_field_bg, 0, 0, this.max_x, this.max_y);\r\n\r\n                    this.doomGuy.adjustImage(this.player_mouse_coords);\r\n                    this.doomGuy.drawSelf(this.ctx);\r\n                    this.doomGuy.bullet_factory.drawBullets(this.ctx);\r\n\r\n                    //enemies\r\n                    for (let enemy of this.enemies_factory.CreatedEnemiesList) {\r\n                        //draw\r\n                        enemy.adjustImage(this.doomGuy);\r\n                        enemy.drawSelf(this.ctx);\r\n                    }\r\n                    this.enemies_bullet_factory.drawBullets(this.ctx);\r\n                    //lifes\r\n                    this.doomGuy.drawLifes(this.ctx);\r\n                    //timer\r\n                    this.ctx.fillStyle = 'rgba(255,255,255,255)';\r\n                    this.ctx.font = '22px serif';\r\n                    this.ctx.fillText(`${this.timer.getHours() !== 0 ? `${this.timer.getHours()}:` : ''}${this.timer.getMinutes()}:${this.timer.getSeconds()}`, this.max_x * 0.9, this.max_y * 0.1);\r\n                    //kills\r\n                    this.ctx.font = '24px serif';\r\n                    this.ctx.fillText(`Убито: ${this.doomGuy.target_hits}`, this.max_x * 0.87, this.max_y * 0.2);\r\n                }\r\n                window.requestAnimationFrame(this.play);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    div {\r\n        background-image: url(\"../../resourses/game_bg.jpg\");\r\n        background-size: cover;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: flex-end;\r\n    }\r\n\r\n    canvas {\r\n        cursor: crosshair;\r\n    }\r\n</style>","<template>\r\n    <div class=\"background\">\r\n        <div class=\"start_info\">\r\n            <div class=\"input_player_name\">\r\n                <label for=\"name\">Введите ваше имя </label>\r\n                <input id=\"name\" type=\"text\" v-model=\"inputedData\">\r\n            </div>\r\n            <button :disabled=\"!inputedData.trim()\" class=\"btn\"\r\n                    @click=\"changeState\">rip & tear\r\n            </button>\r\n            <a @click.prevent=\"showModal\">Почитать правила</a>\r\n        </div>\r\n        <modal-window v-if=\"modalShowed\" @hide-modal=\"modalShowed=false\"></modal-window>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import modalWindow from \"@/js/components/modal-window.vue\";\r\n\r\n    export default {\r\n        name: \"main-menu\",\r\n        data() {\r\n            return {\r\n                inputedData: '',\r\n                modalShowed: false,\r\n            }\r\n        },\r\n        methods: {\r\n            showModal() {\r\n                this.modalShowed = true;\r\n            },\r\n            changeState() {\r\n                this.$emit('set-stage', 1);\r\n                this.$emit('set-player-name', this.inputedData.trim());\r\n            }\r\n        },\r\n\r\n        components: {\r\n            modalWindow,\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .background {\r\n        background-image: url(\"../../resourses/doom.original.jpg\");\r\n        background-size: cover;\r\n        background-position: center center;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-repeat: no-repeat;\r\n    }\r\n\r\n    .start_info {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        position: absolute;\r\n        left: 43%;\r\n        top: 65%;\r\n\r\n        .input_player_name {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n\r\n            label {\r\n                margin-bottom: 0.8rem;\r\n                color: white;\r\n                font-weight: bolder;\r\n                font-size: 1.5rem;\r\n            }\r\n\r\n            input {\r\n                text-align: center;\r\n                padding: 0.5rem 0;\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    a {\r\n        cursor: pointer;\r\n        font-size: 24px;\r\n        margin-top: 25px;\r\n        color: #d4d2d2;\r\n\r\n        &:hover {\r\n            color: white;\r\n\r\n        }\r\n    }\r\n\r\n    button {\r\n        background-color: darkred;\r\n        margin-top: 1.4rem;\r\n        transition: all linear 0.5s;\r\n\r\n        &:hover {\r\n            background-color: #A20000;\r\n        }\r\n    }\r\n</style>","<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"scores_body\">\r\n            <template v-for=\"(elem,index) of scores\">\r\n                <div v-if=\"index===10\" class=\"score-elem\">\r\n                    <span v-for=\"n in 4\">...</span>\r\n                </div>\r\n                <score-elem\r\n                        :elem=\"elem\"\r\n                        :key=\"index\"\r\n                        :index=\"index\"\r\n                        :isCurrent=\"isCurrent(elem)\">\r\n                </score-elem>\r\n            </template>\r\n\r\n        </div>\r\n        <button class=\"btn try-again\"\r\n                @click=\"$emit('set-stage',0)\">Попробовать ещё раз\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ScoreElem from \"@/js/components/score-elem\";\r\n\r\n    export default {\r\n        name: \"main-score\",\r\n        props: {\r\n            current_player_id: Number\r\n        },\r\n        data() {\r\n            return {\r\n                scores: [],\r\n            }\r\n        },\r\n        methods: {\r\n            isCurrent(elem) {\r\n                return Number.parseInt(elem.id) === this.current_player_id;\r\n            }\r\n        },\r\n        mounted() {\r\n            fetch('/server_get_rating.php', {\r\n                method: 'post',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({player_id: this.current_player_id})\r\n\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.scores = data;\r\n                })\r\n                .catch(() => {\r\n                });\r\n        },\r\n        components: {ScoreElem},\r\n\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .wrapper {\r\n        background-image: url(\"../../resourses/game_bg.jpg\");\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        .scores_body {\r\n            width: 70%;\r\n            height: auto;\r\n            font-size: 2rem;\r\n            background-color: brown;\r\n            border-radius: 1rem;\r\n            padding: 1rem;\r\n        }\r\n\r\n        .try-again {\r\n            margin-top: 1%;\r\n        }\r\n    }\r\n\r\n    .score-elem {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        color: white;\r\n        padding: 0 1.5rem;\r\n\r\n        &.current-elem {\r\n            font-size: 2.2rem;\r\n            color: #ba8b00;\r\n        }\r\n\r\n        > div, > span {\r\n            width: (100%/4);\r\n            text-align: center;\r\n        }\r\n\r\n    }\r\n</style>","<template>\r\n    <div class=\"modal-manual\">\r\n        <div class=\"modal-bg-manual\" @click=\"$emit('hide-modal')\"></div>\r\n        <div class=\"modal-body-manual\">\r\n            <h1 class=\"text-center mt-5\">Привет, мир</h1><br>\r\n            <p class=\"text-center\">Эта игра была создана для того, чтобы в неё играть, любое распростронение контента\r\n                незаконно:)</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"modal-window\",\r\n        data() {\r\n            return {}\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n    .modal-manual {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 100;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        .modal-bg-manual {\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 100;\r\n            background-color: rgba(0, 0, 0, 0.7);\r\n\r\n        }\r\n\r\n        .modal-body-manual {\r\n            padding: 2rem 1.5rem;\r\n            position: absolute;\r\n            z-index: 101;\r\n            left: 25%;\r\n            top: 30%;\r\n            width: 50%;\r\n            height: 40%;\r\n            background-color: white;\r\n            text-align: center;\r\n            border-radius: 1rem;\r\n\r\n        }\r\n    }\r\n\r\n</style>","<template>\r\n    <div class='score-elem' :class=\"{'current-elem':isCurrent}\">\r\n        <div>{{elem.number}}</div>\r\n        <div>{{elem.player_name}}</div>\r\n        <div>{{elem.demons_killed}}</div>\r\n        <div>{{elem.time_alive}}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"score-elem\",\r\n        props: {\r\n            elem: Object,\r\n            index: Number,\r\n            isCurrent: Boolean,\r\n        }\r\n    }\r\n</script>\r\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\"canvas\", {\n      ref: \"gamecanvas\",\n      on: { mousemove: _vm.canvas_mouse_move, click: _vm.canvas_click }\n    })\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"background\" },\n    [\n      _c(\"div\", { staticClass: \"start_info\" }, [\n        _c(\"div\", { staticClass: \"input_player_name\" }, [\n          _c(\"label\", { attrs: { for: \"name\" } }, [\n            _vm._v(\"Введите ваше имя \")\n          ]),\n          _vm._v(\" \"),\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.inputedData,\n                expression: \"inputedData\"\n              }\n            ],\n            attrs: { id: \"name\", type: \"text\" },\n            domProps: { value: _vm.inputedData },\n            on: {\n              input: function($event) {\n                if ($event.target.composing) {\n                  return\n                }\n                _vm.inputedData = $event.target.value\n              }\n            }\n          })\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"button\",\n          {\n            staticClass: \"btn\",\n            attrs: { disabled: !_vm.inputedData.trim() },\n            on: { click: _vm.changeState }\n          },\n          [_vm._v(\"rip & tear\\n        \")]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"a\",\n          {\n            on: {\n              click: function($event) {\n                $event.preventDefault()\n                return _vm.showModal($event)\n              }\n            }\n          },\n          [_vm._v(\"Почитать правила\")]\n        )\n      ]),\n      _vm._v(\" \"),\n      _vm.modalShowed\n        ? _c(\"modal-window\", {\n            on: {\n              \"hide-modal\": function($event) {\n                _vm.modalShowed = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrapper\" }, [\n    _c(\n      \"div\",\n      { staticClass: \"scores_body\" },\n      [\n        _vm._l(_vm.scores, function(elem, index) {\n          return [\n            index === 10\n              ? _c(\n                  \"div\",\n                  { staticClass: \"score-elem\" },\n                  _vm._l(4, function(n) {\n                    return _c(\"span\", [_vm._v(\"...\")])\n                  }),\n                  0\n                )\n              : _vm._e(),\n            _vm._v(\" \"),\n            _c(\"score-elem\", {\n              key: index,\n              attrs: {\n                elem: elem,\n                index: index,\n                isCurrent: _vm.isCurrent(elem)\n              }\n            })\n          ]\n        })\n      ],\n      2\n    ),\n    _vm._v(\" \"),\n    _c(\n      \"button\",\n      {\n        staticClass: \"btn try-again\",\n        on: {\n          click: function($event) {\n            return _vm.$emit(\"set-stage\", 0)\n          }\n        }\n      },\n      [_vm._v(\"Попробовать ещё раз\\n    \")]\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"modal-manual\" }, [\n    _c(\"div\", {\n      staticClass: \"modal-bg-manual\",\n      on: {\n        click: function($event) {\n          return _vm.$emit(\"hide-modal\")\n        }\n      }\n    }),\n    _vm._v(\" \"),\n    _vm._m(0)\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"modal-body-manual\" }, [\n      _c(\"h1\", { staticClass: \"text-center mt-5\" }, [_vm._v(\"Привет, мир\")]),\n      _c(\"br\"),\n      _vm._v(\" \"),\n      _c(\"p\", { staticClass: \"text-center\" }, [\n        _vm._v(\n          \"Эта игра была создана для того, чтобы в неё играть, любое распростронение контента\\n            незаконно:)\"\n        )\n      ])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"score-elem\", class: { \"current-elem\": _vm.isCurrent } },\n    [\n      _c(\"div\", [_vm._v(_vm._s(_vm.elem.number))]),\n      _vm._v(\" \"),\n      _c(\"div\", [_vm._v(_vm._s(_vm.elem.player_name))]),\n      _vm._v(\" \"),\n      _c(\"div\", [_vm._v(_vm._s(_vm.elem.demons_killed))]),\n      _vm._v(\" \"),\n      _c(\"div\", [_vm._v(_vm._s(_vm.elem.time_alive))])\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import {Bullet} from \"@/js/bullet\";\r\nimport {calcMovingDirection, IElemWithCoords} from \"@/js/helpers\";\r\nimport {NPC_with_bullets} from \"@/js/abstract_classes/npc_with_bullets\";\r\nimport {NPC} from \"@/js/abstract_classes/npc\";\r\n\r\nexport class BulletFactory {\r\n    private _factoried_bullets: Bullet[];\r\n\r\n    constructor() {\r\n        this._factoried_bullets = [];\r\n    }\r\n\r\n    get CreatedBulletsList() {\r\n        return this._factoried_bullets;\r\n    }\r\n\r\n    set CreatedBulletsList(newArray: Bullet[]) {\r\n        this._factoried_bullets = newArray;\r\n    }\r\n\r\n    make_bullets_step(targets_array: NPC[]) {\r\n        this.CreatedBulletsList.forEach(bullet => {\r\n            bullet.make_move(targets_array);\r\n        });\r\n        this.CreatedBulletsList = this.CreatedBulletsList.filter((bullet: Bullet) => !bullet.should_be_destroyed);\r\n    }\r\n\r\n    drawBullets(ctx:CanvasRenderingContext2D) {\r\n        this.CreatedBulletsList.forEach(bullet => {\r\n            bullet.drawBullet(ctx);\r\n        });\r\n    }\r\n\r\n    createBullet(from: NPC_with_bullets, to: IElemWithCoords, constraint_x: number, constraint_y: number, margin = 0, speed = 0.007) {\r\n        let coords = [to.x, to.y];\r\n        //margin\r\n        if (margin !== 0) {\r\n            for (let i = 0; i < 2; i++) {\r\n                if (Math.random() > 0.5) {\r\n                    coords[i] -= Math.round(Math.random() * margin);\r\n                } else {\r\n                    coords[i] += Math.round(Math.random() * margin);\r\n                }\r\n            }\r\n        }\r\n\r\n        let multipliers = calcMovingDirection(from,\r\n            {\r\n                ...to,\r\n                x: coords[0],\r\n                y: coords[1]\r\n            });\r\n        let inst = new Bullet(from, from.x, from.y, multipliers, constraint_x, constraint_y, speed);\r\n        this.CreatedBulletsList.push(inst);\r\n        return inst;\r\n    }\r\n}","import {IObjectWithConstraints, isObjectsConfront} from \"@/js/helpers\";\r\nimport {FormerHuman, Imp, LostSoul} from \"@/js/enemies\";\r\nimport {NPC} from \"@/js/abstract_classes/npc\";\r\nimport {DoomGuy} from \"@/js/doomguy\";\r\n\r\nexport class EnemiesFactory {\r\n    private _factoried_enemies: NPC[];\r\n    private _max_enemy_count: number;\r\n\r\n    constructor(max_enemy_count: number) {\r\n        this._factoried_enemies = [];\r\n        this._max_enemy_count = max_enemy_count;\r\n    }\r\n\r\n    get CreatedEnemiesList() {\r\n        return this._factoried_enemies;\r\n    }\r\n\r\n    set CreatedEnemiesList(newArray) {\r\n        this._factoried_enemies = newArray;\r\n    }\r\n\r\n    get maxEnemyCount() {\r\n        return this._max_enemy_count;\r\n    }\r\n\r\n    set maxEnemyCount(newVal) {\r\n        this._max_enemy_count = newVal;\r\n    }\r\n\r\n    generateNewEnemy(max_x: number, max_y: number, doomGuy: DoomGuy) {\r\n        if (this.CreatedEnemiesList.length < this._max_enemy_count) {\r\n\r\n            let type = Math.round(Math.random() * 2);\r\n            //generate coords\r\n            let size_x = max_x * 0.05, size_y = max_y * 0.11,\r\n                position = this.generateCoords(max_x, max_y, doomGuy, size_x, size_y);\r\n\r\n            if (type === 0) {\r\n                this.CreatedEnemiesList.push(new Imp(position[0], position[1], max_x, max_y, doomGuy));\r\n            } else if (type === 1) {\r\n                this.CreatedEnemiesList.push(new LostSoul(position[0], position[1], max_x, max_y, doomGuy));\r\n            } else {\r\n                this.CreatedEnemiesList.push(new FormerHuman(position[0], position[1], max_x, max_y, doomGuy));\r\n            }\r\n        }\r\n    }\r\n\r\n    generateCoords(max_x: number, max_y: number, doomGuy: DoomGuy, size_x: number, size_y: number): number[] {\r\n        let x: number | undefined, y: number | undefined, done = false;\r\n        let check_arr: IObjectWithConstraints[] = [...this.CreatedEnemiesList, doomGuy];\r\n\r\n        while (!done) {\r\n            x = Math.floor(Math.random() * (max_x - size_x) + size_x / 2);\r\n            y = Math.floor(Math.random() * (max_y - size_y) + size_y / 2);\r\n            done = true;\r\n            for (let obj of check_arr) {\r\n                if (isObjectsConfront({x, y, size_x: (size_x * 4), size_y: (size_y * 4)}, obj)) {\r\n                    done = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (x === undefined || y === undefined) {\r\n            throw \"Cannot generate new coords\";\r\n        } else {\r\n            return [x, y];\r\n        }\r\n    }\r\n\r\n    removeDeadEnemies() {\r\n        this.CreatedEnemiesList = this.CreatedEnemiesList.filter((enemy) => !enemy.killed);\r\n    }\r\n}","import {calcMovingDirection, isObjectsConfront} from \"@/js/helpers\";\r\nimport {NPC} from \"@/js/abstract_classes/npc\";\r\nimport {DoomGuy} from \"@/js/doomguy\";\r\n\r\nexport abstract class moving_NPC extends NPC {\r\n    protected speed?: number;\r\n\r\n    protected constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number) {\r\n        super(start_x, start_y, constraint_x, constraint_y);\r\n    }\r\n\r\n    public moveTo(currentDoomguy: DoomGuy) {\r\n        if (this.speed !== undefined) {\r\n            let oses_speed = calcMovingDirection(this, currentDoomguy);\r\n            let tmp = (((this.y - this.size_y / 2) - this.speed * oses_speed[1] > 0) &&\r\n                ((this.x - this.size_x / 2) - this.speed * oses_speed[0] > 0) &&\r\n                ((this.y + this.size_y / 2) + this.speed * oses_speed[1] < this.constraint_y) &&\r\n                ((this.x + this.size_x / 2) + this.speed * oses_speed[0] < this.constraint_x));\r\n            if (tmp) {\r\n                this.x += this.speed * oses_speed[0];\r\n                this.y += this.speed * oses_speed[1];\r\n            }\r\n            if (isObjectsConfront(this, currentDoomguy)) {\r\n                currentDoomguy.gotHit();\r\n                this.gotHit();\r\n            }\r\n        }\r\n    }\r\n\r\n}","// @ts-ignore\r\nimport guyBack from \"@/resourses/doomguy/guy-back.png\";\r\n// @ts-ignore\r\nimport guyLeft from \"@/resourses/doomguy/guy-left.png\";\r\n// @ts-ignore\r\nimport guyRight from \"@/resourses/doomguy/guy-right.png\";\r\n// @ts-ignore\r\nimport guyForward from \"@/resourses/doomguy/guy-forward.png\";\r\n\r\n// @ts-ignore\r\nimport impBack from \"@/resourses/enemies/imp/imp-back.png\";\r\n// @ts-ignore\r\nimport impLeft from \"@/resourses/enemies/imp/imp-left.png\";\r\n// @ts-ignore\r\nimport impRight from \"@/resourses/enemies/imp/imp-right.png\";\r\n// @ts-ignore\r\nimport impForward from \"@/resourses/enemies/imp/imp-forward.png\";\r\n// @ts-ignore\r\n\r\nimport soulBack from \"@/resourses/enemies/lost_soul/soul-back.png\";\r\n// @ts-ignore\r\nimport soulLeft from \"@/resourses/enemies/lost_soul/soul-left.png\";\r\n// @ts-ignore\r\nimport soulRight from \"@/resourses/enemies/lost_soul/soul-right.png\";\r\n// @ts-ignore\r\nimport soulForward from \"@/resourses/enemies/lost_soul/soul-forward.png\";\r\n\r\n// @ts-ignore\r\nimport humanBack from \"@/resourses/enemies/former_human/human-back.png\";\r\n// @ts-ignore\r\nimport humanLeft from \"@/resourses/enemies/former_human/human-left.png\";\r\n// @ts-ignore\r\nimport humanRight from \"@/resourses/enemies/former_human/human-right.png\";\r\n// @ts-ignore\r\nimport humanForward from \"@/resourses/enemies/former_human/human-forward.png\";\r\n\r\nimport {IElemWithCoords, IObjectWithConstraints} from \"@/js/helpers\";\r\n\r\nlet createImage = (src: string) => {\r\n    let tmp = new Image();\r\n    tmp.src = src;\r\n    return tmp;\r\n};\r\n\r\n\r\nconst ALL_IMAGES: { [key: string]: any } = Object.freeze({\r\n    'DoomGuy': {\r\n        'top': createImage(guyBack),\r\n        'left': createImage(guyLeft),\r\n        'right': createImage(guyRight),\r\n        'bottom': createImage(guyForward)\r\n    },\r\n    'Imp': {\r\n        'top': createImage(impBack),\r\n        'left': createImage(impLeft),\r\n        'right': createImage(impRight),\r\n        'bottom': createImage(impForward)\r\n    },\r\n    'LostSoul': {\r\n        'top': createImage(soulBack),\r\n        'left': createImage(soulLeft),\r\n        'right': createImage(soulRight),\r\n        'bottom': createImage(soulForward)\r\n    },\r\n    'FormerHuman': {\r\n        'top': createImage(humanBack),\r\n        'left': createImage(humanLeft),\r\n        'right': createImage(humanRight),\r\n        'bottom': createImage(humanForward)\r\n    }\r\n});\r\n\r\n\r\nexport abstract class NPC implements IObjectWithConstraints {\r\n\r\n    public killed: boolean;\r\n    protected image: HTMLImageElement | undefined;\r\n    public constraint_x: number;\r\n    public constraint_y: number;\r\n    public size_x: number = NaN;\r\n    public size_y: number = NaN;\r\n    public x: number;\r\n    public y: number;\r\n\r\n    protected constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number) {\r\n        this.image = undefined;\r\n        this.x = start_x;\r\n        this.y = start_y;\r\n        this.constraint_x = constraint_x;\r\n        this.constraint_y = constraint_y;\r\n        this.killed = false;\r\n    }\r\n\r\n\r\n    setImage(which: string) {\r\n        this.image = ALL_IMAGES[Object.getPrototypeOf(this).constructor.name][which];\r\n    }\r\n\r\n    gotHit() {\r\n        this.killed = true;\r\n    }\r\n\r\n    drawSelf(ctx: CanvasRenderingContext2D) {\r\n        if (this.image !== undefined) {\r\n            ctx.drawImage(this.image, (this.x) - (this.size_x / 2), (this.y) - (this.size_y / 2));\r\n        }\r\n    }\r\n\r\n    adjustImage(target_coords: IElemWithCoords) {\r\n        const squares = Object.freeze({\r\n            'left_top': 1,\r\n            'right_top': 2,\r\n            'right_bottom': 3,\r\n            'left_bottom': 4\r\n        });\r\n        const Oses = Object.freeze({\r\n            'X': 1,\r\n            'Y': 2\r\n        });\r\n\r\n        function getSquare(current_object: IElemWithCoords) {\r\n            let ret;\r\n            if (current_object.y < target_coords.y) {\r\n                if (current_object.x < target_coords.x) {\r\n                    ret = squares['right_bottom'];\r\n                } else {\r\n                    ret = squares['left_bottom'];\r\n                }\r\n            } else {\r\n                if (current_object.x < target_coords.x) {\r\n                    ret = squares['right_top'];\r\n\r\n                } else {\r\n                    ret = squares['left_top'];\r\n                }\r\n            }\r\n            return ret;\r\n        }\r\n\r\n        function getClosestO(current_object: IElemWithCoords) {\r\n            let catX = Math.abs(current_object.x - target_coords.x);\r\n            let catY = Math.abs(current_object.y - target_coords.y);\r\n            let hypo = Math.sqrt(catX ** 2 + catY ** 2);\r\n            let for_x = Math.acos(catX / hypo) * 180 / Math.PI;\r\n            let for_y = Math.acos(catY / hypo) * 180 / Math.PI;\r\n            if (for_x <= for_y) {\r\n                return Oses['X'];\r\n            } else {\r\n                return Oses['Y'];\r\n            }\r\n        }\r\n\r\n        let square = getSquare(this);\r\n        let os = getClosestO(this);\r\n        if ((square === squares['left_bottom'] || square === squares['left_top']) && os === Oses['X']) {\r\n            this.setImage('left');\r\n        } else if ((square === squares['right_top'] || square === squares['left_top']) && os === Oses['Y']) {\r\n            this.setImage('top');\r\n        } else if ((square === squares['right_top'] || square === squares['right_bottom']) && os === Oses['X']) {\r\n            this.setImage('right');\r\n        } else {\r\n            this.setImage('bottom');\r\n        }\r\n    }\r\n}","\"use strict\";\r\n\r\nimport {NPC} from \"@/js/abstract_classes/npc\";\r\n\r\nexport abstract class NPC_with_bullets extends NPC {\r\n    private _target_hits: number;\r\n    protected can_shoot?: boolean;\r\n\r\n    get target_hits(): number {\r\n        return this._target_hits;\r\n    }\r\n\r\n    set target_hits(value: number) {\r\n        this._target_hits = value;\r\n    }\r\n\r\n    protected constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number) {\r\n        super(start_x, start_y, constraint_x, constraint_y);\r\n        this._target_hits = 0;\r\n    }\r\n}","\"use strict\";\r\n\r\nimport '@/scss/style.scss';\r\n\r\nimport Vue from \"vue\";\r\nimport MainMenu from '@/js/components/main-menu';\r\nimport MainGame from '@/js/components/main-game';\r\nimport MainScore from '@/js/components/main-score';\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    template: `\r\n        <transition name=\"main\">\r\n            <main-menu @set-stage=\"current_stage=$event\"\r\n                       @set-player-name=\"player_name=$event\"\r\n                       v-if=\"current_stage===0\"></main-menu>\r\n            <main-game @set-stage=\"current_stage=$event\"\r\n                       :player_name=\"player_name\"\r\n                       @player-game-id=\"player_id=$event\"\r\n                       v-else-if=\"current_stage===1\"></main-game>\r\n            <main-score @set-stage=\"current_stage=$event\"\r\n                        :current_player_id=\"player_id\"\r\n                        v-else></main-score>\r\n        </transition>\r\n    `,\r\n    data: {\r\n        current_stage: 0,\r\n        player_name: undefined,\r\n        player_id: undefined,\r\n    },\r\n    methods: {\r\n        resetProgress() {\r\n            this.player_name = undefined;\r\n            this.player_id = undefined;\r\n        }\r\n    },\r\n    watch: {\r\n\r\n        current_stage(new_val) {\r\n            if (new_val === 0) {\r\n                this.resetProgress();\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        MainMenu,\r\n        MainGame,\r\n        MainScore,\r\n    },\r\n});\r\n","import {isObjectsConfront, IObjectWithConstraints} from \"@/js/helpers\";\r\nimport {NPC_with_bullets} from \"@/js/abstract_classes/npc_with_bullets\";\r\nimport {NPC} from \"@/js/abstract_classes/npc\";\r\n\r\nconst COLORS = [\r\n    '#c9ac42',\r\n    '#bc4b3a',\r\n    '#6ce814',\r\n    '#1f8a9b'\r\n];\r\n\r\nexport class Bullet implements IObjectWithConstraints {\r\n\r\n    private _should_be_destroyed: boolean;\r\n    public constraint_x: number;\r\n    public constraint_y: number;\r\n    public size_x: number;\r\n    public size_y: number;\r\n    public x: number;\r\n    public y: number;\r\n    private readonly color: string;\r\n    private readonly speed_x: number;\r\n    private readonly speed_y: number;\r\n    private creator: NPC_with_bullets;\r\n\r\n    constructor(creator: NPC_with_bullets, start_x: number, start_y: number, multipliers: number[], constraint_x: number, constraint_y: number, speed: number) {\r\n        this.color = COLORS[Math.floor(Math.random() * COLORS.length)];\r\n        this.creator = creator;\r\n        this.x = start_x;\r\n        this.y = start_y;\r\n        let minSide = Math.min(constraint_x, constraint_y);\r\n        this.speed_x = multipliers[0] * minSide * speed;\r\n        this.speed_y = multipliers[1] * minSide * speed;\r\n        this.size_x = minSide * 0.012;\r\n        this.size_y = minSide * 0.012;\r\n        this.constraint_x = constraint_x;\r\n        this.constraint_y = constraint_y;\r\n        this._should_be_destroyed = false;\r\n    }\r\n\r\n    get should_be_destroyed(): boolean {\r\n        return this._should_be_destroyed;\r\n    }\r\n\r\n    set should_be_destroyed(value: boolean) {\r\n        this._should_be_destroyed = value;\r\n    }\r\n\r\n    make_move(targets_array: NPC[]) {\r\n        this.x += this.speed_x;\r\n        this.y += this.speed_y;\r\n        targets_array.forEach((target, index) => {\r\n            if (isObjectsConfront(this, target)) {\r\n                targets_array[index].gotHit();\r\n                this.should_be_destroyed = true;\r\n                this.creator.target_hits++;\r\n            }\r\n        });\r\n        if (this.x < 0 || this.x > this.constraint_x || this.y < 0 || this.y > this.constraint_y) {\r\n            this.should_be_destroyed = true;\r\n        }\r\n    }\r\n\r\n    drawBullet(ctx: CanvasRenderingContext2D) {\r\n        if (!this.should_be_destroyed) {\r\n            ctx.fillStyle = this.color;\r\n            ctx.beginPath();\r\n            ctx.arc(this.x, this.y, this.size_x, 0, 2 * Math.PI);\r\n            ctx.fill();\r\n        }\r\n    }\r\n\r\n\r\n}","import { render, staticRenderFns } from \"./main-game.vue?vue&type=template&id=e873df96&scoped=true&\"\nimport script from \"./main-game.vue?vue&type=script&lang=js&\"\nexport * from \"./main-game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main-game.vue?vue&type=style&index=0&id=e873df96&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e873df96\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\OpenServer\\\\OpenServer\\\\domains\\\\game_vue\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('e873df96')) {\n      api.createRecord('e873df96', component.options)\n    } else {\n      api.reload('e873df96', component.options)\n    }\n    module.hot.accept(\"./main-game.vue?vue&type=template&id=e873df96&scoped=true&\", function () {\n      api.rerender('e873df96', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"js/components/main-game.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./main-game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./main-game.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-game.vue?vue&type=style&index=0&id=e873df96&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-game.vue?vue&type=style&index=0&id=e873df96&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-game.vue?vue&type=template&id=e873df96&scoped=true&\"","import { render, staticRenderFns } from \"./main-menu.vue?vue&type=template&id=5d8749bc&scoped=true&\"\nimport script from \"./main-menu.vue?vue&type=script&lang=js&\"\nexport * from \"./main-menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main-menu.vue?vue&type=style&index=0&id=5d8749bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d8749bc\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\OpenServer\\\\OpenServer\\\\domains\\\\game_vue\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5d8749bc')) {\n      api.createRecord('5d8749bc', component.options)\n    } else {\n      api.reload('5d8749bc', component.options)\n    }\n    module.hot.accept(\"./main-menu.vue?vue&type=template&id=5d8749bc&scoped=true&\", function () {\n      api.rerender('5d8749bc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"js/components/main-menu.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./main-menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./main-menu.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-menu.vue?vue&type=style&index=0&id=5d8749bc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-menu.vue?vue&type=style&index=0&id=5d8749bc&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-menu.vue?vue&type=template&id=5d8749bc&scoped=true&\"","import { render, staticRenderFns } from \"./main-score.vue?vue&type=template&id=32d552df&scoped=true&\"\nimport script from \"./main-score.vue?vue&type=script&lang=js&\"\nexport * from \"./main-score.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main-score.vue?vue&type=style&index=0&id=32d552df&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32d552df\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\OpenServer\\\\OpenServer\\\\domains\\\\game_vue\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('32d552df')) {\n      api.createRecord('32d552df', component.options)\n    } else {\n      api.reload('32d552df', component.options)\n    }\n    module.hot.accept(\"./main-score.vue?vue&type=template&id=32d552df&scoped=true&\", function () {\n      api.rerender('32d552df', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"js/components/main-score.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./main-score.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./main-score.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-score.vue?vue&type=style&index=0&id=32d552df&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-score.vue?vue&type=style&index=0&id=32d552df&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-score.vue?vue&type=template&id=32d552df&scoped=true&\"","import { render, staticRenderFns } from \"./modal-window.vue?vue&type=template&id=c8e23d9e&scoped=true&\"\nimport script from \"./modal-window.vue?vue&type=script&lang=js&\"\nexport * from \"./modal-window.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modal-window.vue?vue&type=style&index=0&id=c8e23d9e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8e23d9e\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\OpenServer\\\\OpenServer\\\\domains\\\\game_vue\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('c8e23d9e')) {\n      api.createRecord('c8e23d9e', component.options)\n    } else {\n      api.reload('c8e23d9e', component.options)\n    }\n    module.hot.accept(\"./modal-window.vue?vue&type=template&id=c8e23d9e&scoped=true&\", function () {\n      api.rerender('c8e23d9e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"js/components/modal-window.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./modal-window.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./modal-window.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-window.vue?vue&type=style&index=0&id=c8e23d9e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/resolve-url-loader/index.js??ref--6-3!../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-window.vue?vue&type=style&index=0&id=c8e23d9e&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-window.vue?vue&type=template&id=c8e23d9e&scoped=true&\"","import { render, staticRenderFns } from \"./score-elem.vue?vue&type=template&id=4512e56a&\"\nimport script from \"./score-elem.vue?vue&type=script&lang=js&\"\nexport * from \"./score-elem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\OpenServer\\\\OpenServer\\\\domains\\\\game_vue\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4512e56a')) {\n      api.createRecord('4512e56a', component.options)\n    } else {\n      api.reload('4512e56a', component.options)\n    }\n    module.hot.accept(\"./score-elem.vue?vue&type=template&id=4512e56a&\", function () {\n      api.rerender('4512e56a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"js/components/score-elem.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./score-elem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/source-map-loader/index.js!./score-elem.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./score-elem.vue?vue&type=template&id=4512e56a&\"","// @ts-ignore\r\nimport heart_src from '@/resourses/heart.svg';\r\n\r\nimport {NPC_with_bullets} from \"@/js/abstract_classes/npc_with_bullets\";\r\nimport {BulletFactory} from \"@/js/BulletFactory\";\r\nimport {IElemWithCoords} from \"@/js/helpers\";\r\n\r\nenum KEYS {\r\n    W = 'KeyW',\r\n    A = 'KeyA',\r\n    S = 'KeyS',\r\n    D = 'KeyD'\r\n}\r\n\r\nexport class DoomGuy extends NPC_with_bullets {\r\n    private readonly speed: number;\r\n    private lives: number;\r\n    private bullet_factory: BulletFactory;\r\n    private readonly heartImage: HTMLImageElement;\r\n\r\n    constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number) {\r\n        super(start_x, start_y, constraint_x, constraint_y);\r\n        this.speed = Math.min(constraint_x, constraint_y) * 0.005;\r\n        this.size_x = constraint_x * 0.05;\r\n        this.size_y = constraint_y * 0.10;\r\n        this.lives = 3;\r\n        this.setImage('bottom');\r\n        this.can_shoot = true;\r\n        this.bullet_factory = new BulletFactory();\r\n\r\n        this.heartImage = new Image();\r\n        this.heartImage.src = heart_src;\r\n\r\n    }\r\n\r\n    try_to_shoot(target: IElemWithCoords) {\r\n        if (this.can_shoot) {\r\n            this.bullet_factory.createBullet(this, target, this.constraint_x, this.constraint_y);\r\n            this.can_shoot = false;\r\n            setTimeout(() => {\r\n                this.can_shoot = true;\r\n            }, 500);\r\n        }\r\n    }\r\n\r\n    gotHit() {\r\n        this.lives--;\r\n        if (this.lives <= 0) {\r\n            //end\r\n            this.killed = true;\r\n        }\r\n    }\r\n\r\n    drawLifes(ctx: CanvasRenderingContext2D) {\r\n        const drawHeart = (ctx: CanvasRenderingContext2D, x: number, y: number, constraint_x: number, constraint_y: number) => {\r\n            ctx.drawImage(this.heartImage, x, y + constraint_y * 0.02, constraint_x * 0.03, constraint_y * 0.05);\r\n\r\n        };\r\n        let x = this.constraint_x * 0.06;\r\n        let y = this.constraint_y * 0.05;\r\n        let increment_x = this.constraint_x * 0.05;\r\n\r\n        for (let i = 0; i < this.lives; i++) {\r\n            drawHeart(ctx, x, y, this.constraint_x, this.constraint_y);\r\n            x += increment_x;\r\n        }\r\n    }\r\n\r\n    makeMoves(pressed_keys: string[]) {\r\n        pressed_keys.forEach((elem) => {\r\n\r\n            switch (elem) {\r\n                case KEYS.W:\r\n                    if ((this.y - this.size_y / 2) - this.speed > 0) {\r\n                        this.y -= this.speed;\r\n                    }\r\n                    break;\r\n                case KEYS.A:\r\n                    if ((this.x - this.size_x / 2) - this.speed > 0) {\r\n                        this.x -= this.speed;\r\n                    }\r\n                    break;\r\n                case KEYS.S:\r\n                    if ((this.y + this.size_y / 2) + this.speed < this.constraint_y) {\r\n                        this.y += this.speed;\r\n                    }\r\n                    break;\r\n                case KEYS.D:\r\n                    if ((this.x + this.size_x / 2) + this.speed < this.constraint_x) {\r\n                        this.x += this.speed;\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}","import {moving_NPC} from \"@/js/abstract_classes/moving_npc\";\r\nimport {NPC_with_bullets} from \"@/js/abstract_classes/npc_with_bullets\";\r\nimport {DoomGuy} from \"@/js/doomguy\";\r\nimport {BulletFactory} from \"@/js/BulletFactory\";\r\nimport {IElemWithCoords} from \"@/js/helpers\";\r\n\r\nexport class Imp extends moving_NPC {\r\n\r\n    constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number, current_doomguy: DoomGuy) {\r\n        super(start_x, start_y, constraint_x, constraint_y);\r\n        this.size_x = constraint_x * 0.05;\r\n        this.size_y = constraint_y * 0.1;\r\n        this.speed = Math.min(constraint_x, constraint_y) * 0.0021;\r\n\r\n        this.adjustImage(current_doomguy);\r\n    }\r\n\r\n}\r\n\r\nexport class LostSoul extends moving_NPC {\r\n\r\n    constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number, current_doomguy: DoomGuy) {\r\n        super(start_x, start_y, constraint_x, constraint_y);\r\n        this.size_x = constraint_x * 0.05;\r\n        this.size_y = constraint_y * 0.1;\r\n        this.speed = Math.min(constraint_x, constraint_y) * 0.003;\r\n\r\n        this.adjustImage(current_doomguy);\r\n\r\n    }\r\n}\r\n\r\nexport class FormerHuman extends NPC_with_bullets {\r\n    private max_bullets: number;\r\n\r\n    constructor(start_x: number, start_y: number, constraint_x: number, constraint_y: number, current_doomguy: DoomGuy) {\r\n        super(start_x, start_y, constraint_x, constraint_y);\r\n        this.size_x = constraint_x * 0.045;\r\n        this.size_y = constraint_y * 0.10;\r\n        this.max_bullets = 4;\r\n        this.adjustImage(current_doomguy);\r\n        this.can_shoot = false;\r\n        setTimeout(() => {\r\n            this.can_shoot = true;\r\n        }, 700);\r\n    }\r\n\r\n    try_to_shoot(factory: BulletFactory, target: IElemWithCoords) {\r\n        if (this.can_shoot) {\r\n            let margin = Math.floor(Math.min(this.constraint_x, this.constraint_y) * 0.15);\r\n            factory.createBullet(this, target, this.constraint_x, this.constraint_y, margin, 0.004);\r\n            this.can_shoot = false;\r\n            setTimeout(() => {\r\n                this.can_shoot = true;\r\n            }, 1300);\r\n        }\r\n    }\r\n}","export interface IElemWithCoords {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport interface IElemWithCoordsAndSize extends IElemWithCoords {\r\n    size_x: number;\r\n    size_y: number;\r\n}\r\n\r\nexport interface IObjectWithConstraints extends IElemWithCoordsAndSize {\r\n    constraint_x: number;\r\n    constraint_y: number;\r\n}\r\n\r\nexport function calcMovingDirection(from: IElemWithCoords, to: IElemWithCoords): number[] {\r\n    let catX = to.x - from.x;\r\n    let catY = to.y - from.y;\r\n    let hypo = Math.sqrt(catX ** 2 + catY ** 2);\r\n    return [(catX / hypo), (catY / hypo)];\r\n}\r\n\r\nexport function isObjectsConfront(obj1: IElemWithCoordsAndSize, obj2: IElemWithCoordsAndSize): boolean {\r\n    return !(\r\n        (obj1.x + obj1.size_x / 2 < obj2.x - obj2.size_x / 2) ||\r\n        (obj1.x - obj1.size_x / 2 > obj2.x + obj2.size_x / 2) ||\r\n        (obj1.y + obj1.size_y / 2 < obj2.y - obj2.size_y / 2) ||\r\n        (obj1.y - obj1.size_y / 2 > obj2.y + obj2.size_y / 2));\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/guy-back.11256c54a1a3f86a11c49649a7f51bac.png\";","export default __webpack_public_path__ + \"static/guy-forward.03715c93bf087379fb8bf6c6e3864809.png\";","export default __webpack_public_path__ + \"static/guy-left.40154243440f5022150d95b94af9fc50.png\";","export default __webpack_public_path__ + \"static/guy-right.fd047c30d2484de27b142abeed0f3e2f.png\";","export default __webpack_public_path__ + \"static/human-back.7a035d62c16e2393a46463ec6877318d.png\";","export default __webpack_public_path__ + \"static/human-forward.4c3d7bd64ba43b601f99b048e297f3d4.png\";","export default __webpack_public_path__ + \"static/human-left.7d7d008b95dc6d044599c3f00e9ab8e7.png\";","export default __webpack_public_path__ + \"static/human-right.73052b7f6393e483f7778da160fa6fb2.png\";","export default __webpack_public_path__ + \"static/imp-back.cc9d5ac93bfce41fb2bcca0aa789c241.png\";","export default __webpack_public_path__ + \"static/imp-forward.b801c38af81953e1ec95e1f34809424a.png\";","export default __webpack_public_path__ + \"static/imp-left.6a46701157ed6cbdea61d0fc9e89a9f2.png\";","export default __webpack_public_path__ + \"static/imp-right.e684b169b56d707c29af49d36ef1b673.png\";","export default __webpack_public_path__ + \"static/soul-back.473cbf10732435086e83edc8d2717ab3.png\";","export default __webpack_public_path__ + \"static/soul-forward.05c5b00532e628640d2abe7e72e38b4b.png\";","export default __webpack_public_path__ + \"static/soul-left.e7fb6195be5ac4fa7e4c8d93439bde07.png\";","export default __webpack_public_path__ + \"static/soul-right.7da127102fe5e141d72ba5b7a9b85edc.png\";","export default __webpack_public_path__ + \"static/game_field_bg.1f2d91e4d341f7225591b5edf083d597.jpg\";","export default __webpack_public_path__ + \"static/heart.c759f248fb0a2e7a7691afac2085c1f5.svg\";","export default __webpack_public_path__ + \"static/sound.342b38449461537e44d5519be011c5da.mp3\";","// extracted by mini-css-extract-plugin"],"sourceRoot":""}